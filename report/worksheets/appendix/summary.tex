\chapter[]{Summary}
This master thesis investigates whether language integrated STM is a valid alternative to locking in terms of usability, and provides additional benefits compared to library-based STM. To do so, an extension of C\# called \stmname was implemented. \stmname provides integrated support for STM, including conditional synchronization using the retry and orelse constructs as well as nesting of transactions.

In order to develop \stmname a set of requirements were defined, detailing how the underlying \ac{STM} system should behave in relation to for example tracking granularity, atomicity level and nesting. Based on the requirements \stmname was designed. The design includes a description of new language constructs as well as a description of modifications to existing language features. A number of \ac{STM} implementations were investigated. Based on this investigation as well as the requirements and design, an \ac{STM} library, utilizing the TL\rom{2} algorithm, was implemented. The \ac{STM} library was tested using a number of unit tests, ensuring that transactions are executed correctly. In order to perform the actual integration of \ac{STM} into C\#, the open source Roslyn C\# compiler was extended. This required a deep knowledge of the Roslyn project and its structure, which initiated an investigation of Roslyn. Due to the limited availability of literature with regards to Roslyn, much of the knowledge obtained in this area was acquired by reading and debugging Roslyn's source code. A number of unit tests were defined for the Roslyn extension, in order to ensure that all \ac{STM} constructs and the integration with the existing language features work correctly.

For each of the concurrency approaches: \stmname, the \ac{STM} library and locking in C\#,  implementations of the Dining Philosophers problem, the Santa Claus problem, a concurrent queue, and a concurrent hashmap were created. These implementations were analyzed according to a set of usability characteristics facilitating a conclusion upon the usability of language integrated STM. Our evaluation concludes that \stmname is a valid alternative to locking, and provides better usability than library-based STM.

